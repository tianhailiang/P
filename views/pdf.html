<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- <iframe style="height:100%;width:100%;" src="{{helper.cdnhost}}/assets/js/135.pdf"></iframe>
     -->
    <!-- <canvas id="the-canvas"></canvas> -->
    <!--展示的div-->
    <div id="pdfContent" style="height:500px;width:500px;margin-left:300px;" >
    </div>
    <script  src="{{helper.cdnhost}}/dep/js/jquery-1.9.1.min.js"></script>
    <script src="https://unpkg.com/pdfjs-dist@2.0.489/build/pdf.js" ></script>
    <!-- <script>
        pdfjsLib.getDocument('../assets/js/135.pdf').then(function(pdf) {
            // you can now use *pdf* here
            console.log(pdf)
            pdf.getPage(1).then(function(page) {
            // you can now use *page* here
                console.log(page)
                var scale = 1.5;
                var viewport = page.getViewport(scale);
                var canvas = document.getElementById('the-canvas');
                var context = canvas.getContext('2d');
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                var renderContext = {
                canvasContext: context,
                viewport: viewport
                };
                page.render(renderContext);
            });
        });
    </script> -->
    <script>
    $(function () {

        var purl='../assets/js/135.pdf';//要展示的文件路径

        // 下面代码都是处理IE浏览器的情况 
        if (window.ActiveXObject || "ActiveXObject" in window) {
          //判断是否为IE浏览器，"ActiveXObject" in window判断是否为IE11
          //判断是否安装了adobe Reader
            for (x = 2; x < 10; x++) {
                try {
                oAcro = eval("new ActiveXObject('PDF.PdfCtrl." + x + "');");
                if (oAcro) {
                    flag = true;
                }
                } catch (e) {
                    flag = false;
                }
            }
            try {
                oAcro4 = new ActiveXObject('PDF.PdfCtrl.1');
                if (oAcro4) {
                    flag = true;
                }
            } catch (e) {
                flag = false;
            }

            try {
              oAcro7 = new ActiveXObject('AcroPDF.PDF.1');
              if (oAcro7) {
                flag = true;
              }
            } catch (e) {
              flag = false;
            }

            if (flag) {//支持
              pdfShow(purl);//调用显示的方法

            }else {//不支持
              $("#pdfContent").append("对不起,您还没有安装PDF阅读器软件呢,为了方便预览PDF文档,请选择安装！");
              alert("对不起,您还没有安装PDF阅读器软件呢,为了方便预览PDF文档,请选择安装！");
              location = "https://ardownload.adobe.com/pub/adobe/reader/win/9.x/9.3/chs/AdbeRdr930_zh_CN.exe";
            }

        }else {
                    pdfShow(purl);//调用显示的方法
        }
    });


    //显示文件方法，就是将文件展示到div中
    function pdfShow(url){
        $("#pdfContent").append('<iframe style="height:100%;width:100%;" src="'+url+'"></iframe>');
    }

</script>
</body>
</html>